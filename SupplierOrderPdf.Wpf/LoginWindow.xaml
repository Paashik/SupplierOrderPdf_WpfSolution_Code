<Window x:Class="SupplierOrderPdf.Wpf.LoginWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
        Title="Вход в систему"
        Width="420"
        SizeToContent="Height"
        WindowStartupLocation="CenterScreen"
        ResizeMode="NoResize"
        WindowStyle="None"
        AllowsTransparency="True"
        Background="Transparent"
        Foreground="{DynamicResource MD3.Brush.OnSurface}">

    <!-- Прозрачное окно, по центру — карточка логина -->
    <Grid Background="Transparent">
        <Border HorizontalAlignment="Center"
                VerticalAlignment="Center"
                Margin="24"
                CornerRadius="{DynamicResource MD3.Shape.ExtraLarge}"
                Background="{DynamicResource MD3.Brush.SurfaceContainerHigh}">
            <Border.Effect>
                <!-- MD3 elevation shadow -->
                <DropShadowEffect BlurRadius="24"
                                  ShadowDepth="0"
                                  Opacity="0.25"
                                  Color="{DynamicResource MD3.Color.Shadow}" />
            </Border.Effect>

            <Grid>
                <Grid.RowDefinitions>
                    <!-- Кастомный заголовок -->
                    <RowDefinition Height="Auto" />
                    <!-- Содержимое карточки -->
                    <RowDefinition Height="*" />
                </Grid.RowDefinitions>

                <!-- ===== Верхняя панель / заголовок ===== -->
                <Border Grid.Row="0"
                        Background="{DynamicResource MD3.Brush.SurfaceContainer}"
                        CornerRadius="{DynamicResource MD3.Shape.ExtraLarge.Top}">
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*" />
                            <ColumnDefinition Width="Auto" />
                        </Grid.ColumnDefinitions>

                        <!-- Заголовок окна -->
                        <TextBlock Text="Вход в систему"
                                   Style="{DynamicResource MD3.Typography.TitleLarge}"
                                   VerticalAlignment="Center"
                                   Margin="24,16" />

                        <!-- Кнопка-крестик: тот же обработчик, что и Отмена -->
                        <Button Grid.Column="1"
                                Click="Cancel_Click"
                                Style="{DynamicResource MD3.Button.Icon}"
                                Width="40"
                                Height="40"
                                Margin="0,8,8,8"
                                ToolTip="Закрыть">
                            <materialDesign:PackIcon Kind="Close"
                                                     Width="20"
                                                     Height="20"/>
                        </Button>
                    </Grid>
                </Border>

                <!-- ===== Основное содержимое карточки ===== -->
                <Grid Grid.Row="1"
                      Margin="24,24,24,32">
                    <Grid.RowDefinitions>
                        <!-- Подзаголовок / описание -->
                        <RowDefinition Height="Auto" />
                        <!-- Поле Пользователь -->
                        <RowDefinition Height="Auto" />
                        <!-- Поле Пароль -->
                        <RowDefinition Height="Auto" />
                        <!-- Роль -->
                        <RowDefinition Height="Auto" />
                        <!-- Сообщение об ошибке -->
                        <RowDefinition Height="Auto" />
                        <!-- Кнопки -->
                        <RowDefinition Height="Auto" />
                    </Grid.RowDefinitions>

                    <!-- Подзаголовок -->
                    <TextBlock Grid.Row="0"
                               Text="Введите учётные данные для входа"
                               Style="{DynamicResource MD3.Typography.BodyMedium}"
                               Foreground="{DynamicResource MD3.Brush.OnSurfaceVariant}"
                               Margin="0,0,0,24" />

                    <!-- ===== Пользователь ===== -->
                    <StackPanel Grid.Row="1"
                                Margin="0,0,0,16">
                        <TextBlock Text="Пользователь"
                                   Style="{DynamicResource MD3.Typography.LabelMedium}"
                                   Foreground="{DynamicResource MD3.Brush.OnSurfaceVariant}"
                                   Margin="0,0,0,8" />

                        <ComboBox x:Name="UserCombo"
                                  Style="{DynamicResource MD3.ComboBox.Outlined}"
                                  HorizontalAlignment="Stretch"
                                  SelectionChanged="UserCombo_SelectionChanged" />
                    </StackPanel>

                    <!-- ===== Пароль ===== -->
                    <StackPanel Grid.Row="2"
                                Margin="0,0,0,16">
                        <TextBlock Text="Пароль"
                                   Style="{DynamicResource MD3.Typography.LabelMedium}"
                                   Foreground="{DynamicResource MD3.Brush.OnSurfaceVariant}"
                                   Margin="0,0,0,8" />

                        <PasswordBox x:Name="PasswordBox"
                                     Style="{DynamicResource MD3.PasswordField.Outlined}"
                                     HorizontalAlignment="Stretch" />
                    </StackPanel>

                    <!-- ===== Роль (только для отображения) ===== -->
                    <StackPanel Grid.Row="3"
                                Margin="0,0,0,16">
                        <TextBlock Text="Роль"
                                   Style="{DynamicResource MD3.Typography.LabelMedium}"
                                   Foreground="{DynamicResource MD3.Brush.OnSurfaceVariant}"
                                   Margin="0,0,0,8" />

                        <TextBox x:Name="RoleText"
                                 Style="{DynamicResource MD3.TextField.Outlined.ReadOnly}"
                                 HorizontalAlignment="Stretch" />
                    </StackPanel>

                    <!-- ===== Сообщение об ошибке ===== -->
                    <TextBlock x:Name="ErrorText"
                               Grid.Row="4"
                               Style="{DynamicResource MD3.Typography.BodySmall}"
                               Margin="0,8,0,0"
                               Foreground="{DynamicResource MD3.Brush.Error}"
                               TextWrapping="Wrap" />

                    <!-- ===== Кнопки действий ===== -->
                    <StackPanel Grid.Row="5"
                                Orientation="Horizontal"
                                HorizontalAlignment="Right"
                                Margin="0,24,0,0">
                        <Button x:Name="CancelButton"
                                Content="Отмена"
                                Style="{DynamicResource MD3.Button.Text}"
                                Margin="0,0,8,0"
                                IsCancel="True"
                                Click="Cancel_Click" />

                        <Button x:Name="OkButton"
                                Content="Войти"
                                Style="{DynamicResource MD3.Button.Filled}"
                                MinWidth="100"
                                IsDefault="True"
                                Click="Ok_Click" />
                    </StackPanel>
                </Grid>
            </Grid>
        </Border>
    </Grid>
</Window>