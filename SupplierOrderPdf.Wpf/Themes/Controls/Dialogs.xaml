<!-- 
    Material Design 3 Dialog Styles
    ================================
    Этот файл содержит стили диалогов согласно Material Design 3 guidelines.
    
    Особенности MD3 Dialogs:
    - Background: SurfaceContainerHigh
    - CornerRadius: ExtraLarge (28dp)
    - Title: HeadlineSmall
    - Content: BodyMedium
    - Actions: правое выравнивание, 8dp gap
    
    Naming convention: MD3.Dialog.{Type}
-->
<ResourceDictionary xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                    xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes">

    <!-- ============================================== -->
    <!-- DIALOG HOST                                    -->
    <!-- Контейнер для диалогов                         -->
    <!-- ============================================== -->
    
    <!-- Scrim (затемнение фона) -->
    <SolidColorBrush x:Key="MD3.Dialog.Scrim" Color="{DynamicResource MD3.Color.Scrim}" Opacity="0.32"/>

    <!-- ============================================== -->
    <!-- BASIC DIALOG                                   -->
    <!-- Базовый диалог                                 -->
    <!-- ============================================== -->
    
    <Style x:Key="MD3.Dialog" TargetType="Border">
        <Setter Property="Background" Value="{DynamicResource MD3.Brush.SurfaceContainerHigh}"/>
        <Setter Property="CornerRadius" Value="{DynamicResource MD3.Shape.ExtraLarge}"/>
        <Setter Property="MinWidth" Value="280"/>
        <Setter Property="MaxWidth" Value="560"/>
        <Setter Property="Padding" Value="{DynamicResource MD3.Padding.Dialog}"/>
        <Setter Property="SnapsToDevicePixels" Value="True"/>
        <Setter Property="Effect">
            <Setter.Value>
                <DropShadowEffect BlurRadius="24"
                                  ShadowDepth="6"
                                  Direction="270"
                                  Opacity="0.25"
                                  Color="{DynamicResource MD3.Color.Shadow}"/>
            </Setter.Value>
        </Setter>
    </Style>

    <!-- ============================================== -->
    <!-- DIALOG WINDOW                                  -->
    <!-- Стиль для Window как диалога                   -->
    <!-- ============================================== -->
    
    <Style x:Key="MD3.DialogWindow" TargetType="Window">
        <Setter Property="Background" Value="{DynamicResource MD3.Brush.SurfaceContainerHigh}"/>
        <Setter Property="Foreground" Value="{DynamicResource MD3.Brush.OnSurface}"/>
        <Setter Property="FontFamily" Value="{DynamicResource MD3.FontFamily.Primary}"/>
        <Setter Property="ResizeMode" Value="NoResize"/>
        <Setter Property="ShowInTaskbar" Value="False"/>
        <Setter Property="WindowStyle" Value="None"/>
        <Setter Property="AllowsTransparency" Value="True"/>
        <Setter Property="SizeToContent" Value="WidthAndHeight"/>
        <Setter Property="MinWidth" Value="280"/>
        <Setter Property="MaxWidth" Value="560"/>
        <Setter Property="SnapsToDevicePixels" Value="True"/>
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="Window">
                    <Border Background="{TemplateBinding Background}"
                            CornerRadius="{DynamicResource MD3.Shape.ExtraLarge}"
                            Padding="{DynamicResource MD3.Padding.Dialog}"
                            SnapsToDevicePixels="True">
                        <Border.Effect>
                            <DropShadowEffect BlurRadius="24"
                                              ShadowDepth="6"
                                              Direction="270"
                                              Opacity="0.25"
                                              Color="{DynamicResource MD3.Color.Shadow}"/>
                        </Border.Effect>
                        <ContentPresenter/>
                    </Border>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <!-- ============================================== -->
    <!-- DIALOG TITLE                                   -->
    <!-- Заголовок диалога                              -->
    <!-- ============================================== -->
    
    <Style x:Key="MD3.Dialog.Title" TargetType="TextBlock">
        <Setter Property="FontFamily" Value="{DynamicResource MD3.FontFamily.Primary}"/>
        <Setter Property="FontSize" Value="{DynamicResource MD3.FontSize.HeadlineSmall}"/>
        <Setter Property="FontWeight" Value="Normal"/>
        <Setter Property="Foreground" Value="{DynamicResource MD3.Brush.OnSurface}"/>
        <Setter Property="TextWrapping" Value="Wrap"/>
        <Setter Property="Margin" Value="0,0,0,16"/>
    </Style>

    <!-- ============================================== -->
    <!-- DIALOG CONTENT                                 -->
    <!-- Содержимое диалога                             -->
    <!-- ============================================== -->
    
    <Style x:Key="MD3.Dialog.Content" TargetType="TextBlock">
        <Setter Property="FontFamily" Value="{DynamicResource MD3.FontFamily.Primary}"/>
        <Setter Property="FontSize" Value="{DynamicResource MD3.FontSize.BodyMedium}"/>
        <Setter Property="FontWeight" Value="Normal"/>
        <Setter Property="Foreground" Value="{DynamicResource MD3.Brush.OnSurfaceVariant}"/>
        <Setter Property="TextWrapping" Value="Wrap"/>
        <Setter Property="Margin" Value="0,0,0,24"/>
    </Style>

    <!-- ============================================== -->
    <!-- DIALOG ACTIONS                                 -->
    <!-- Панель действий диалога                        -->
    <!-- ============================================== -->
    
    <Style x:Key="MD3.Dialog.Actions" TargetType="StackPanel">
        <Setter Property="Orientation" Value="Horizontal"/>
        <Setter Property="HorizontalAlignment" Value="Right"/>
        <Setter Property="Margin" Value="0"/>
    </Style>

    <!-- Кнопка действия в диалоге (Text Button) -->
    <Style x:Key="MD3.Dialog.Button" TargetType="Button" BasedOn="{StaticResource {x:Type Button}}">
        <Setter Property="Height" Value="40"/>
        <Setter Property="MinWidth" Value="48"/>
        <Setter Property="Padding" Value="12,0"/>
        <Setter Property="Margin" Value="8,0,0,0"/>
        <Setter Property="Background" Value="Transparent"/>
        <Setter Property="Foreground" Value="{DynamicResource MD3.Brush.Primary}"/>
        <Setter Property="BorderThickness" Value="0"/>
        <Setter Property="FontFamily" Value="{DynamicResource MD3.FontFamily.Primary}"/>
        <Setter Property="FontSize" Value="{DynamicResource MD3.FontSize.LabelLarge}"/>
        <Setter Property="FontWeight" Value="Medium"/>
        <Setter Property="Cursor" Value="Hand"/>
        <Setter Property="HorizontalContentAlignment" Value="Center"/>
        <Setter Property="VerticalContentAlignment" Value="Center"/>
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="Button">
                    <Grid>
                        <Border x:Name="RootBorder"
                                Background="{TemplateBinding Background}"
                                CornerRadius="20"
                                SnapsToDevicePixels="True">
                            <ContentPresenter Margin="{TemplateBinding Padding}"
                                              HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}"
                                              VerticalAlignment="{TemplateBinding VerticalContentAlignment}"
                                              RecognizesAccessKey="True"/>
                        </Border>
                        
                        <!-- State layer -->
                        <Border x:Name="StateLayer"
                                CornerRadius="20"
                                Background="Transparent"
                                IsHitTestVisible="False"/>
                    </Grid>
                    
                    <ControlTemplate.Triggers>
                        <Trigger Property="IsMouseOver" Value="True">
                            <Setter TargetName="StateLayer" Property="Background">
                                <Setter.Value>
                                    <SolidColorBrush Color="{DynamicResource MD3.Color.Primary}" Opacity="0.08"/>
                                </Setter.Value>
                            </Setter>
                        </Trigger>
                        
                        <Trigger Property="IsPressed" Value="True">
                            <Setter TargetName="StateLayer" Property="Background">
                                <Setter.Value>
                                    <SolidColorBrush Color="{DynamicResource MD3.Color.Primary}" Opacity="0.12"/>
                                </Setter.Value>
                            </Setter>
                        </Trigger>
                        
                        <Trigger Property="IsEnabled" Value="False">
                            <Setter Property="Opacity" Value="0.38"/>
                        </Trigger>
                    </ControlTemplate.Triggers>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <!-- Основная кнопка действия (Filled) -->
    <Style x:Key="MD3.Dialog.Button.Primary" TargetType="Button" BasedOn="{StaticResource MD3.Dialog.Button}">
        <Setter Property="Background" Value="{DynamicResource MD3.Brush.Primary}"/>
        <Setter Property="Foreground" Value="{DynamicResource MD3.Brush.OnPrimary}"/>
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="Button">
                    <Grid>
                        <Border x:Name="RootBorder"
                                Background="{TemplateBinding Background}"
                                CornerRadius="20"
                                SnapsToDevicePixels="True">
                            <ContentPresenter Margin="{TemplateBinding Padding}"
                                              HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}"
                                              VerticalAlignment="{TemplateBinding VerticalContentAlignment}"
                                              RecognizesAccessKey="True"/>
                        </Border>
                        
                        <!-- State layer -->
                        <Border x:Name="StateLayer"
                                CornerRadius="20"
                                Background="Transparent"
                                IsHitTestVisible="False"/>
                    </Grid>
                    
                    <ControlTemplate.Triggers>
                        <Trigger Property="IsMouseOver" Value="True">
                            <Setter TargetName="StateLayer" Property="Background">
                                <Setter.Value>
                                    <SolidColorBrush Color="{DynamicResource MD3.Color.OnPrimary}" Opacity="0.08"/>
                                </Setter.Value>
                            </Setter>
                        </Trigger>
                        
                        <Trigger Property="IsPressed" Value="True">
                            <Setter TargetName="StateLayer" Property="Background">
                                <Setter.Value>
                                    <SolidColorBrush Color="{DynamicResource MD3.Color.OnPrimary}" Opacity="0.12"/>
                                </Setter.Value>
                            </Setter>
                        </Trigger>
                        
                        <Trigger Property="IsEnabled" Value="False">
                            <Setter TargetName="RootBorder" Property="Background" Value="{DynamicResource MD3.Brush.OnSurface}"/>
                            <Setter TargetName="RootBorder" Property="Opacity" Value="0.12"/>
                            <Setter Property="Foreground" Value="{DynamicResource MD3.Brush.OnSurface}"/>
                        </Trigger>
                    </ControlTemplate.Triggers>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <!-- ============================================== -->
    <!-- ALERT DIALOG                                   -->
    <!-- Диалог предупреждения                          -->
    <!-- ============================================== -->
    
    <Style x:Key="MD3.AlertDialog" TargetType="ContentControl">
        <Setter Property="Background" Value="{DynamicResource MD3.Brush.SurfaceContainerHigh}"/>
        <Setter Property="Foreground" Value="{DynamicResource MD3.Brush.OnSurface}"/>
        <Setter Property="MinWidth" Value="280"/>
        <Setter Property="MaxWidth" Value="560"/>
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="ContentControl">
                    <Border Background="{TemplateBinding Background}"
                            CornerRadius="{DynamicResource MD3.Shape.ExtraLarge}"
                            Padding="{DynamicResource MD3.Padding.Dialog}"
                            SnapsToDevicePixels="True">
                        <Border.Effect>
                            <DropShadowEffect BlurRadius="24"
                                              ShadowDepth="6"
                                              Direction="270"
                                              Opacity="0.25"
                                              Color="{DynamicResource MD3.Color.Shadow}"/>
                        </Border.Effect>
                        <ContentPresenter/>
                    </Border>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <!-- ============================================== -->
    <!-- FULL-SCREEN DIALOG                             -->
    <!-- Полноэкранный диалог                           -->
    <!-- ============================================== -->
    
    <Style x:Key="MD3.FullScreenDialog" TargetType="Window">
        <Setter Property="Background" Value="{DynamicResource MD3.Brush.Surface}"/>
        <Setter Property="Foreground" Value="{DynamicResource MD3.Brush.OnSurface}"/>
        <Setter Property="FontFamily" Value="{DynamicResource MD3.FontFamily.Primary}"/>
        <Setter Property="WindowStyle" Value="None"/>
        <Setter Property="WindowState" Value="Maximized"/>
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="Window">
                    <Grid Background="{TemplateBinding Background}">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="*"/>
                        </Grid.RowDefinitions>
                        
                        <!-- Top App Bar -->
                        <Border Grid.Row="0"
                                Height="{DynamicResource MD3.Size.AppBar.Height}"
                                Background="{DynamicResource MD3.Brush.Surface}">
                            <Grid Margin="4,0">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="Auto"/>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="Auto"/>
                                </Grid.ColumnDefinitions>
                                
                                <!-- Close button -->
                                <Button x:Name="CloseButton"
                                        Grid.Column="0"
                                        Style="{StaticResource MD3.Dialog.Button}"
                                        Width="48"
                                        Height="48"
                                        Padding="0"
                                        Margin="0">
                                    <materialDesign:PackIcon Kind="Close"
                                                             Width="24"
                                                             Height="24"/>
                                </Button>
                                
                                <!-- Title -->
                                <TextBlock Grid.Column="1"
                                           Text="{TemplateBinding Title}"
                                           Style="{StaticResource MD3.Dialog.Title}"
                                           VerticalAlignment="Center"
                                           Margin="16,0"/>
                                
                                <!-- Save/Action button -->
                                <ContentPresenter x:Name="ActionButton"
                                                  Grid.Column="2"
                                                  Content="{Binding Tag, RelativeSource={RelativeSource TemplatedParent}}"
                                                  VerticalAlignment="Center"
                                                  Margin="0,0,8,0"/>
                            </Grid>
                        </Border>
                        
                        <!-- Content -->
                        <ContentPresenter Grid.Row="1"/>
                    </Grid>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <!-- ============================================== -->
    <!-- DIALOG WITH ICON                               -->
    <!-- Диалог с иконкой                               -->
    <!-- ============================================== -->
    
    <Style x:Key="MD3.Dialog.Icon" TargetType="materialDesign:PackIcon">
        <Setter Property="Width" Value="24"/>
        <Setter Property="Height" Value="24"/>
        <Setter Property="Foreground" Value="{DynamicResource MD3.Brush.Secondary}"/>
        <Setter Property="HorizontalAlignment" Value="Center"/>
        <Setter Property="Margin" Value="0,0,0,16"/>
    </Style>

    <!-- ============================================== -->
    <!-- CONFIRMATION DIALOG                            -->
    <!-- Диалог подтверждения                           -->
    <!-- ============================================== -->
    
    <!-- Используется как шаблон для создания диалогов подтверждения -->
    <ControlTemplate x:Key="MD3.ConfirmationDialogTemplate" TargetType="ContentControl">
        <Border Background="{DynamicResource MD3.Brush.SurfaceContainerHigh}"
                CornerRadius="{DynamicResource MD3.Shape.ExtraLarge}"
                Padding="{DynamicResource MD3.Padding.Dialog}"
                MinWidth="280"
                MaxWidth="560"
                SnapsToDevicePixels="True">
            <Border.Effect>
                <DropShadowEffect BlurRadius="24"
                                  ShadowDepth="6"
                                  Direction="270"
                                  Opacity="0.25"
                                  Color="{DynamicResource MD3.Color.Shadow}"/>
            </Border.Effect>
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                </Grid.RowDefinitions>
                
                <!-- Icon (optional) -->
                <ContentPresenter x:Name="IconPresenter"
                                  Grid.Row="0"
                                  Content="{Binding Tag, RelativeSource={RelativeSource TemplatedParent}}"
                                  HorizontalAlignment="Center"
                                  Margin="0,0,0,16"/>
                
                <!-- Title -->
                <ContentPresenter x:Name="TitlePresenter"
                                  Grid.Row="1"
                                  ContentSource="Header"
                                  TextElement.FontFamily="{DynamicResource MD3.FontFamily.Primary}"
                                  TextElement.FontSize="{DynamicResource MD3.FontSize.HeadlineSmall}"
                                  TextElement.Foreground="{DynamicResource MD3.Brush.OnSurface}"
                                  Margin="0,0,0,16"/>
                
                <!-- Content -->
                <ContentPresenter Grid.Row="2"
                                  Margin="0,0,0,24"/>
                
                <!-- Actions -->
                <StackPanel Grid.Row="3"
                            Style="{StaticResource MD3.Dialog.Actions}">
                    <Button x:Name="CancelButton"
                            Content="Отмена"
                            Style="{StaticResource MD3.Dialog.Button}"/>
                    <Button x:Name="ConfirmButton"
                            Content="Подтвердить"
                            Style="{StaticResource MD3.Dialog.Button.Primary}"/>
                </StackPanel>
            </Grid>
        </Border>
    </ControlTemplate>

    <!-- ============================================== -->
    <!-- SNACKBAR                                       -->
    <!-- Уведомление внизу экрана                       -->
    <!-- ============================================== -->
    
    <Style x:Key="MD3.Snackbar" TargetType="Border">
        <Setter Property="Background" Value="{DynamicResource MD3.Brush.InverseSurface}"/>
        <Setter Property="CornerRadius" Value="{DynamicResource MD3.Shape.ExtraSmall}"/>
        <Setter Property="MinWidth" Value="344"/>
        <Setter Property="MaxWidth" Value="672"/>
        <Setter Property="MinHeight" Value="48"/>
        <Setter Property="Padding" Value="16,14"/>
        <Setter Property="Margin" Value="8"/>
        <Setter Property="HorizontalAlignment" Value="Center"/>
        <Setter Property="VerticalAlignment" Value="Bottom"/>
        <Setter Property="SnapsToDevicePixels" Value="True"/>
        <Setter Property="Effect">
            <Setter.Value>
                <DropShadowEffect BlurRadius="12"
                                  ShadowDepth="3"
                                  Direction="270"
                                  Opacity="0.2"
                                  Color="{DynamicResource MD3.Color.Shadow}"/>
            </Setter.Value>
        </Setter>
    </Style>

    <Style x:Key="MD3.Snackbar.Text" TargetType="TextBlock">
        <Setter Property="FontFamily" Value="{DynamicResource MD3.FontFamily.Primary}"/>
        <Setter Property="FontSize" Value="{DynamicResource MD3.FontSize.BodyMedium}"/>
        <Setter Property="Foreground" Value="{DynamicResource MD3.Brush.InverseOnSurface}"/>
        <Setter Property="TextWrapping" Value="Wrap"/>
        <Setter Property="VerticalAlignment" Value="Center"/>
    </Style>

    <Style x:Key="MD3.Snackbar.Action" TargetType="Button">
        <Setter Property="Background" Value="Transparent"/>
        <Setter Property="Foreground" Value="{DynamicResource MD3.Brush.InversePrimary}"/>
        <Setter Property="BorderThickness" Value="0"/>
        <Setter Property="Padding" Value="12,0"/>
        <Setter Property="Margin" Value="8,0,0,0"/>
        <Setter Property="FontFamily" Value="{DynamicResource MD3.FontFamily.Primary}"/>
        <Setter Property="FontSize" Value="{DynamicResource MD3.FontSize.LabelLarge}"/>
        <Setter Property="FontWeight" Value="Medium"/>
        <Setter Property="Cursor" Value="Hand"/>
        <Setter Property="VerticalAlignment" Value="Center"/>
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="Button">
                    <Grid>
                        <Border x:Name="StateLayer"
                                CornerRadius="4"
                                Background="Transparent"/>
                        <ContentPresenter Margin="{TemplateBinding Padding}"
                                          HorizontalAlignment="Center"
                                          VerticalAlignment="Center"/>
                    </Grid>
                    
                    <ControlTemplate.Triggers>
                        <Trigger Property="IsMouseOver" Value="True">
                            <Setter TargetName="StateLayer" Property="Background">
                                <Setter.Value>
                                    <SolidColorBrush Color="{DynamicResource MD3.Color.InversePrimary}" Opacity="0.08"/>
                                </Setter.Value>
                            </Setter>
                        </Trigger>
                    </ControlTemplate.Triggers>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <!-- ============================================== -->
    <!-- TOOLTIP                                        -->
    <!-- Всплывающая подсказка                          -->
    <!-- ============================================== -->
    
    <Style x:Key="MD3.Tooltip" TargetType="ToolTip">
        <Setter Property="Background" Value="{DynamicResource MD3.Brush.InverseSurface}"/>
        <Setter Property="Foreground" Value="{DynamicResource MD3.Brush.InverseOnSurface}"/>
        <Setter Property="FontFamily" Value="{DynamicResource MD3.FontFamily.Primary}"/>
        <Setter Property="FontSize" Value="{DynamicResource MD3.FontSize.BodySmall}"/>
        <Setter Property="Padding" Value="8,4"/>
        <Setter Property="SnapsToDevicePixels" Value="True"/>
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="ToolTip">
                    <Border Background="{TemplateBinding Background}"
                            CornerRadius="{DynamicResource MD3.Shape.ExtraSmall}"
                            Padding="{TemplateBinding Padding}">
                        <ContentPresenter/>
                    </Border>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <!-- Rich Tooltip (с заголовком) -->
    <Style x:Key="MD3.Tooltip.Rich" TargetType="ToolTip">
        <Setter Property="Background" Value="{DynamicResource MD3.Brush.SurfaceContainer}"/>
        <Setter Property="Foreground" Value="{DynamicResource MD3.Brush.OnSurface}"/>
        <Setter Property="FontFamily" Value="{DynamicResource MD3.FontFamily.Primary}"/>
        <Setter Property="Padding" Value="16,12"/>
        <Setter Property="MaxWidth" Value="312"/>
        <Setter Property="SnapsToDevicePixels" Value="True"/>
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="ToolTip">
                    <Border Background="{TemplateBinding Background}"
                            CornerRadius="{DynamicResource MD3.Shape.Medium}"
                            Padding="{TemplateBinding Padding}">
                        <Border.Effect>
                            <DropShadowEffect BlurRadius="8"
                                              ShadowDepth="2"
                                              Direction="270"
                                              Opacity="0.15"
                                              Color="{DynamicResource MD3.Color.Shadow}"/>
                        </Border.Effect>
                        <ContentPresenter/>
                    </Border>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <!-- ============================================== -->
    <!-- PROGRESS INDICATOR                             -->
    <!-- Индикатор прогресса                            -->
    <!-- ============================================== -->
    
    <Style x:Key="MD3.ProgressBar.Linear" TargetType="ProgressBar">
        <Setter Property="Background" Value="{DynamicResource MD3.Brush.SurfaceContainerHighest}"/>
        <Setter Property="Foreground" Value="{DynamicResource MD3.Brush.Primary}"/>
        <Setter Property="Height" Value="4"/>
        <Setter Property="BorderThickness" Value="0"/>
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="ProgressBar">
                    <Grid>
                        <!-- Track -->
                        <Border x:Name="PART_Track"
                                Background="{TemplateBinding Background}"
                                CornerRadius="2"/>
                        
                        <!-- Indicator -->
                        <Border x:Name="PART_Indicator"
                                Background="{TemplateBinding Foreground}"
                                CornerRadius="2"
                                HorizontalAlignment="Left"/>
                    </Grid>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <!-- ============================================== -->
    <!-- BADGE                                          -->
    <!-- Значок уведомления                             -->
    <!-- ============================================== -->
    
    <Style x:Key="MD3.Badge" TargetType="Border">
        <Setter Property="Background" Value="{DynamicResource MD3.Brush.Error}"/>
        <Setter Property="MinWidth" Value="6"/>
        <Setter Property="MinHeight" Value="6"/>
        <Setter Property="CornerRadius" Value="3"/>
        <Setter Property="HorizontalAlignment" Value="Right"/>
        <Setter Property="VerticalAlignment" Value="Top"/>
    </Style>

    <Style x:Key="MD3.Badge.Large" TargetType="Border">
        <Setter Property="Background" Value="{DynamicResource MD3.Brush.Error}"/>
        <Setter Property="MinWidth" Value="16"/>
        <Setter Property="MinHeight" Value="16"/>
        <Setter Property="CornerRadius" Value="8"/>
        <Setter Property="Padding" Value="4,0"/>
        <Setter Property="HorizontalAlignment" Value="Right"/>
        <Setter Property="VerticalAlignment" Value="Top"/>
    </Style>

    <Style x:Key="MD3.Badge.Text" TargetType="TextBlock">
        <Setter Property="FontFamily" Value="{DynamicResource MD3.FontFamily.Primary}"/>
        <Setter Property="FontSize" Value="{DynamicResource MD3.FontSize.LabelSmall}"/>
        <Setter Property="FontWeight" Value="Medium"/>
        <Setter Property="Foreground" Value="{DynamicResource MD3.Brush.OnError}"/>
        <Setter Property="HorizontalAlignment" Value="Center"/>
        <Setter Property="VerticalAlignment" Value="Center"/>
    </Style>

</ResourceDictionary>